/* jquery.touch.js v0.2.4 | (c) n33 | n33.co | MIT licensed */
(function(e){function $(t,v){var m=this;m[r]={},m[r]=e.extend(m[r],V),m[r]=e.extend(m[r],v),m[i]=t,m[s]=n,m[o]=n,m[u]=a,m[f]=a,m[l]=a,m[c]=a,m[h]=a,m[p]=n,m.x=a,m.y=a,m.ex=a,m.ey=a,m[d]=0,"ontouchstart"in window&&(m[r].useMouse=n),m.init()}var t=!0,n=!1,r="settings",i="element",s="inTap",o="inDrag",u="tapStart",a=null,f="dragStart",l="timerTap",c="timerTapAndHold",h="tapScrollTop",p="mouseDown",d="taps",v="prototype",m="preventDefault",g="doStart",y="pageX",b="originalEvent",w="pageY",E="doMove",S="changedTouches",x="uses",T="swipe",N="hasOwnProperty",C="swipeUp",k="swipeDown",L="swipeLeft",A="swipeRight",O="drag",M="dragEnd",_="tapAndHold",D="doubleTap",P="tap",H="scrolled",B="cancel",j="offset",F="stopPropagation",I="none",q="clearTimeout",R="setTimeout",U="trigger",z="swipeThreshold",W="enableTouch",X=e(document),V={useMouse:t,noClick:n,dragThreshold:10,dragDelay:200,swipeThreshold:30,tapDelay:250,tapAndHoldDelay:750,preventDefault:{drag:n,swipe:n,tap:n}};$[v].init=function(){var e=this;e[r].noClick&&e[i].on("click",function(e){e[m]()}),e[i].on("touchstart",function(t){e[g](t,t[b].touches[0][y],t[b].touches[0][w])}).on("touchmove",function(t){e[E](t,t[b][S][0][y],t[b][S][0][w])}).on("touchend",function(t){e.doEnd(t,t[b][S][0][y],t[b][S][0][w])}),e[r].useMouse&&(e[p]=n,e[i].on("mousedown",function(n){e[p]=t,e[g](n,n[y],n[w])}).on("mousemove",function(t){e[p]&&e[E](t,t[y],t[w])}).on("mouseup",function(t){e.doEnd(t,t[y],t[w]),e[p]=n}))},$[v][x]=function(t){var r=e._data(this[i][0],"events");switch(t){case T:return r[N](t)||r[N](C)||r[N](k)||r[N](L)||r[N](A);case O:return r[N](t)||r[N](f)||r[N](M);case _:case D:return r[N](t);case P:return r[N](t)||r[N](D)||r[N](_);default:}return n},$[v][H]=function(){return this[h]!=X.scrollTop()},$[v][B]=function(e){var t=this;t[d]=0,t[s]=n,t[o]=n,t[u]=a,t[f]=a,e&&(t[p]=n)},$[v][g]=function(e,n,o){var f=this,p=f[i][j]();e[F](),(f[x](O)&&f[r][m][O]||f[x](T)&&f[r][m][T]||f[x](P)&&f[r][m][P])&&e[m](),f[x](_)&&f[i].css("-webkit-touch-callout",I).css("-webkit-user-select",I),f.x=n,f.y=o,f.ex=n-p.left,f.ey=o-p.top,f[u]=Date.now(),f[h]=X.scrollTop(),window[q](f[l]),f[l]=window[R](function(){f[s]&&f[d]>0&&(f[i][U](f[d]==2?D:P,{taps:f[d],x:f.x,y:f.y,ex:f.ex,ey:f.ey,duration:Date.now()-f[u],event:e}),f[B]()),f[l]=a},f[r].tapDelay),f[x](_)&&(window[q](f[c]),f[c]=window[R](function(){f[s]&&(f[i][U](_,{x:f.x,y:f.y,ex:f.ex,ey:f.ey,duration:Date.now()-f[u],event:e}),f[B]()),f[c]=a},f[r].tapAndHoldDelay)),f[s]=t},$[v][E]=function(e,n,s){var a=this,l=a[i][j](),c=(Math.abs(a.x-n)+Math.abs(a.y-s))/2;e[F](),(a[x](T)&&a[r][m][T]||a[x](O)&&a[r][m][O])&&e[m]();if(a[H]()){a[B]();return}if(a[o])a[i][U](O,{x:n,y:s,ex:n-l.left,ey:s-l.top,event:e});else if(c>a[r].dragThreshold){if(Date.now()-a[u]<a[r].dragDelay){a[B]();return}a[B](),a[o]=t,a[f]=Date.now(),a[x](O)&&e[m](),a[i][U](f,{x:n,y:s,ex:n-l.left,ey:s-l.top,event:e})}},$[v].doEnd=function(e,t,a){var c,h,p,v=this,m=v[i][j](),g=Math.abs(v.x-t),y=Math.abs(v.y-a);e[F]();if(v[H]()){v[B]();return}if(v[s]){v[d]++;if(!v[l]||v[d]==1&&!v[x](D)||v[d]==2&&v[x](D))v[i][U](v[d]==2?D:P,{taps:v[d],x:v.x,y:v.y,ex:v.ex,ey:v.ey,duration:Date.now()-v[u],event:e}),v[B]()}else if(v[o]){p=Date.now()-v[f],c=Math.sqrt(Math.pow(Math.abs(v.x-t),2)+Math.pow(Math.abs(v.y-a),2)),h=c/p,v[i][U](M,{start:{x:v.x,y:v.y,ex:v.ex,ey:v.ey},end:{x:t,y:a,ex:t-m.left,ey:a-m.top},distance:c,duration:p,velocity:h,event:e});if(g>v[r][z]||y>v[r][z])v[i][U](T,{distance:c,duration:p,velocity:h,event:e}),g>y?(h=g/p,t<v.x?v[i][U](L,{distance:g,duration:p,velocity:h,event:e}):v[i][U](A,{distance:g,duration:p,velocity:h,event:e})):y>g&&(h=y/p,a<v.y?v[i][U](C,{distance:y,duration:p,velocity:h,event:e}):v[i][U](k,{distance:y,duration:p,velocity:h,event:e}));v[o]=n}},e.fn[W]=function(t){var n,r,i;if(this.length>1){for(i=0;i<this.length;i++)e(this[i])[W]();return e(this)}return n=e(this),r=new $(n,t),n.get(0)._touch=r,n}})(jQuery);